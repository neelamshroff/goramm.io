{"ast":null,"code":"export class Product {}\nexport class ProductService {\n  constructor() {\n    this.products = [];\n  }\n\n  addProduct(name, categoryname, price) {\n    let product = new Product();\n    product.name = name;\n    product.category = categoryname;\n    product.price = price;\n    product.id = Math.floor(Math.random() * 100 + 1);\n    this.products.push(product);\n    this.setProducts();\n  }\n\n  getProducts() {\n    let products = localStorage.getItem(\"products\");\n\n    if (products) {\n      this.products = JSON.parse(products);\n    }\n\n    return this.products;\n  }\n\n  updateProduct(id, name, categoryname, price) {\n    for (var i = 0; i < this.products.length; i++) {\n      if (this.products[i].id == id) {\n        this.products.splice(i, 1);\n        break;\n      }\n    }\n\n    let product = new Product();\n    product.name = name;\n    product.category = categoryname;\n    product.price = price;\n    product.id = id;\n    this.products.push(product);\n    this.setProducts();\n  }\n\n  findById(id) {\n    let product;\n    this.products.forEach(cat => {\n      if (cat.id == id) {\n        product = cat;\n      }\n    });\n    return product;\n  }\n\n  deleteProduct(id) {\n    console.log(id, name);\n    let index = this.products.findIndex(x => x.id === id);\n    this.products.splice(index, 1);\n    this.setProducts();\n  }\n\n  setProducts() {\n    localStorage.setItem(\"products\", JSON.stringify(this.products));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}